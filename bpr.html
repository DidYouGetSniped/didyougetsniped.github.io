<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <title>Broker Performance Rating Explanation</title>
    <meta property="og:title" content="Broker Performance Rating (BPR) Explained">
    <meta property="og:description" content="This document provides a comprehensive breakdown of the Broker Performance Rating (BPR) calculation. BPR measures a player's effectiveness, resilience, and overall game impact, moving beyond simple statistics to capture true skill and contribution.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="bpr.css">
</head>
<body>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XGNQRLJMGK"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);} 
        gtag('js', new Date());
        gtag('config', 'G-XGNQRLJMGK');
    </script>
    <script type="module">
        import { setRandomBackground } from './background.js';
        document.addEventListener('DOMContentLoaded', () => {
            setRandomBackground();
        });
    </script>

    <div class="background-gradient"></div>
    
    <nav class="navbar">
        <div class="nav-content">
            <a href="index.html" class="logo home-link">
                <span class="logo-icon">üè†</span>
                <span class="logo-text">Home</span>
            </a>
            <div class="logo">
                <span class="logo-icon">üìä</span>
                <span class="logo-text">Broker Performance Rating (BPR)</span>
            </div>
            <a href="https://didyougetsniped.github.io/wbinfo" target="_blank" rel="noopener" class="nav-link">
                Get Your Stats ‚Üí
            </a>
        </div>
    </nav>

    <main class="container">
        <header class="hero">
            <div class="hero-badge">Performance Metrics</div>
            <h1>Broker Performance Rating</h1>
            <p class="hero-subtitle">A comprehensive metric designed to measure player effectiveness, resilience, and overall game impact‚Äîmoving beyond simple statistics to capture true skill and contribution.</p>
            <div class="hero-note">
                <span class="note-icon">‚ÑπÔ∏è</span>
                <span>Note: BPR does not account for intangibles like map knowledge, teamwork, or leadership.</span>
            </div>
        </header>

        <section class="calculator-section">
            <div class="section-header">
                <h2>Interactive Calculator</h2>
                <p>Try the example profile of <a href="https://didyougetsniped.github.io/wbinfo?uid=5ab2a1a9fd3c7a5019977b68" target="_blank" rel="noopener">JoJa15</a> (7/27/2025) or enter your own values.</p>
            </div>
            
            <div class="calculator-grid">
                <div class="input-card">
                    <div class="input-group">
                        <label for="total_kills">Total Kills</label>
                        <input type="number" id="total_kills" placeholder="e.g., 150167" value="150167">
                    </div>
                    <div class="input-group">
                        <label for="damage_dealt">Total Damage Dealt</label>
                        <input type="number" id="damage_dealt" placeholder="e.g., 9515791" value="9515791">
                    </div>
                    <div class="input-group">
                        <label for="total_kills">Total Deaths</label>
                        <input type="number" id="total_deaths" placeholder="e.g., 38819" value="38819">
                    </div>
                    <div class="input-group">
                        <label for="damage_received">Total Damage Received</label>
                        <input type="number" id="damage_received" placeholder="e.g., 21487962" value="21487962">
                    </div>
                    <div class="input-group">
                        <label for="kills_top_placement_input">Kills ELO (Top X%)</label>
                        <input type="number" step="any" id="kills_top_placement_input" placeholder="e.g., 1.0832" value="1.0832">
                    </div>
                </div>
                
                <div class="input-card">
                    <div class="input-group">
                        <label for="games_top_placement_input">Games ELO (Top X%)</label>
                        <input type="number" step="any" id="games_top_placement_input" placeholder="e.g., 0.1465" value="0.1465">
                    </div>
                    <div class="input-group">
                        <label for="total_games">Total Games Played</label>
                        <input type="number" id="total_games" placeholder="e.g., 6270" value="6270">
                    </div>
                    <div class="input-group">
                        <label for="num_self_destructs">Self Destructs</label>
                        <input type="number" id="num_self_destructs" placeholder="e.g., 460" value="460">
                    </div>
                    <div class="input-group">
                        <label for="xp">Total XP</label>
                        <input type="number" id="xp" placeholder="e.g., 25441015" value="25441015">
                    </div>
                    <button id="calculate_button" class="calculate-btn">
                        <span>Calculate BPR</span>
                        <span class="btn-icon">‚Üí</span>
                    </button>
                </div>
            </div>
            
            <div id="calculation_result" class="result-card">
                Enter values and click 'Calculate'
            </div>
        </section>

        <section class="formulas-section">
            <div class="section-header">
                <h2>The Formulas</h2>
                <p>Understanding how BPR is calculated</p>
            </div>

            <div class="formula-card main-formula">
                <div class="formula-header">
                    <span class="formula-badge">Main Formula</span>
                    <h3>Overall Performance Score</h3>
                </div>
                <div class="formula-content">
                    <div class="math-formula">
                        <span class="math-text">Overall Score</span>
                        <span class="math-equals">=</span>
                        <span class="math-group">(Core Performance Score + Experience Bonus)</span>
                        <span class="math-operator">¬∑</span>
                        <span class="math-number">100</span>
                    </div>
                </div>
            </div>

            <div class="formula-card">
                <div class="formula-header">
                    <span class="formula-badge core">Core</span>
                    <h3>Core Performance Score</h3>
                </div>
                <p>The central calculation combining combat skills and game impact:</p>
                <div class="formula-content">
                    <div class="math-formula">
                        <span class="math-text">Core Performance Score</span>
                        <span class="math-equals">=</span>
                        <span class="math-sqrt">‚àö</span><span class="math-group">(Factor A ¬∑ Factor B)</span>
                    </div>
                </div>
            </div>

            <div class="formula-grid">
                <div class="formula-card factor-a">
                    <div class="formula-header">
                        <span class="formula-badge factor-a-badge">Factor A</span>
                        <h3>Combat Skills</h3>
                    </div>
                    <p>Assesses direct combat prowess:</p>
                    <div class="formula-content">
                        <div class="math-formula">
                            <span class="math-text">Factor A</span>
                            <span class="math-equals">=</span>
                            <span class="math-sqrt">‚àö</span><span class="math-group">(Combat Efficiency)</span>
                            <span class="math-plus">+</span>
                            <span class="math-text">Kills ELO Bonus</span>
                        </div>
                    </div>
                    <div class="sub-formulas">
                        <div class="sub-formula">
                            <span class="sub-label">Combat Efficiency</span>
                            <div class="math-formula">
                                <span class="fraction">
                                    <span class="numerator">total_kills ¬∑ damage_dealt</span>
                                    <span class="denominator">total_deaths ¬∑ damage_received</span>
                                </span>
                            </div>
                        </div>
                        <div class="sub-formula">
                            <span class="sub-label">Kills ELO Bonus</span>
                            <div class="math-formula">
                                <span class="fraction">
                                    <span class="numerator"><span class="math-paren">(</span><span class="fraction-inline"><sup>1</sup>‚ÅÑ<sub>kills_elo_rank</sub></span><span class="math-paren">)</span><sup>¬º</sup></span>
                                    <span class="denominator">6.2</span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="formula-card factor-b">
                    <div class="formula-header">
                        <span class="formula-badge factor-b-badge">Factor B</span>
                        <h3>Game Impact & Resilience</h3>
                    </div>
                    <p>Evaluates contribution, longevity, and survivability:</p>
                    <div class="formula-content">
                        <div class="math-formula">
                            <span class="math-text">Factor B</span>
                            <span class="math-equals">=</span>
                            <span class="math-text-small">Avg Damage Impact</span>
                            <span class="math-plus">+</span>
                            <span class="math-text-small">Games ELO Bonus</span>
                            <span class="math-plus">+</span>
                            <span class="math-text-small">Resilience</span>
                        </div>
                    </div>
                    <div class="sub-formulas">
                        <div class="sub-formula">
                            <span class="sub-label">Avg Damage Impact</span>
                            <div class="math-formula">
                                <span class="fraction">
                                    <span class="numerator">damage_dealt</span>
                                    <span class="denominator">8250 ¬∑ total_games</span>
                                </span>
                            </div>
                        </div>
                        <div class="sub-formula">
                            <span class="sub-label">Games ELO Bonus</span>
                            <div class="math-formula">
                                <span class="fraction">
                                    <span class="numerator"><span class="math-paren">(</span><span class="fraction-inline"><sup>1</sup>‚ÅÑ<sub>games_elo_rank</sub></span><span class="math-paren">)</span><sup>¬º</sup></span>
                                    <span class="denominator">13.2</span>
                                </span>
                            </div>
                        </div>
                        <div class="sub-formula">
                            <span class="sub-label">Resilience</span>
                            <div class="math-formula">
                                <span class="fraction">
                                    <span class="numerator">damage_received ¬∑ (1 ‚àí self_destruct_%)</span>
                                    <span class="denominator">660 ¬∑ total_deaths</span>
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="formula-card experience">
                <div class="formula-header">
                    <span class="formula-badge exp-badge">Bonus</span>
                    <h3>Experience Bonus</h3>
                </div>
                <p>A minor additional score based on accumulated experience:</p>
                <div class="formula-content">
                    <div class="math-formula">
                        <span class="math-text">Experience Bonus</span>
                        <span class="math-equals">=</span>
                        <span class="fraction">
                            <span class="numerator">(xp)<sup>¬º</sup></span>
                            <span class="denominator">62</span>
                        </span>
                    </div>
                </div>
            </div>
        </section>

        <section class="explanation-section">
            <div class="section-header">
                <h2>Detailed Breakdown</h2>
                <p>Deep dive into each component</p>
            </div>

            <div class="explanation-card">
                <div class="explanation-header">
                    <span class="exp-number">1</span>
                    <h3>Core Performance Score</h3>
                </div>
                <div class="explanation-content">
                    <p>This is the central pillar of the rating, evaluating a player's direct combat prowess and ability to impact the game while surviving.</p>
                    <div class="key-point">
                        <div class="math-formula">
                            <span class="math-text">Core Performance Score</span>
                            <span class="math-equals">=</span>
                            <span class="math-sqrt">‚àö</span><span class="math-group">(Factor A ¬∑ Factor B)</span>
                        </div>
                    </div>
                    <p>This multiplicative structure means a player must perform well in <strong>both</strong> Factor A (Combat Effectiveness) <strong>AND</strong> Factor B (Game Impact & Resilience) to achieve a high score. Excelling in only one area will limit the overall core performance score.</p>
                </div>
            </div>

            <div class="explanation-card">
                <div class="explanation-header">
                    <span class="exp-number">A</span>
                    <h3>Factor A: Combat Effectiveness</h3>
                </div>
                <div class="explanation-content">
                    <p>This factor quantifies a player's direct combat skill, combining their damage-weighted K/D ratio with an ELO-based ranking bonus for kills.</p>
                    
                    <div class="sub-section">
                        <h4>A.1. Damage-Weighted K/D Ratio (Combat Efficiency)</h4>
                        <div class="key-point">
                            <div class="math-formula">
                                <span class="math-text">Combat Efficiency</span>
                                <span class="math-equals">=</span>
                                <span class="fraction">
                                    <span class="numerator">total_kills ¬∑ damage_dealt</span>
                                    <span class="denominator">total_deaths ¬∑ damage_received</span>
                                </span>
                            </div>
                        </div>
                        <ul class="feature-list">
                            <li><strong>Beyond Simple K/D:</strong> Unlike a standard Kill/Death ratio, this metric deeply integrates damage numbers. It rewards players who not only get kills but also contribute significantly to damage output efficiently.</li>
                            <li><strong>Numerator:</strong> Powerfully emphasizes offensive contribution. A kill with high damage dealt is weighted much more heavily than a stolen kill.</li>
                            <li><strong>Denominator:</strong> Penalizes inefficiency. Taking a lot of damage or getting killed significantly reduces this ratio.</li>
                            <li><strong>Square Root:</strong> Normalizes contribution, preventing extreme values from dominating Factor A.</li>
                        </ul>
                    </div>

                    <div class="sub-section">
                        <h4>A.2. Kills ELO Bonus</h4>
                        <div class="key-point">
                            <div class="math-formula">
                                <span class="math-text">Kills ELO Bonus</span>
                                <span class="math-equals">=</span>
                                <span class="fraction">
                                    <span class="numerator"><span class="math-paren">(</span><span class="fraction-inline"><sup>1</sup>‚ÅÑ<sub>kills_elo_rank</sub></span><span class="math-paren">)</span><sup>¬º</sup></span>
                                    <span class="denominator">6.2</span>
                                </span>
                            </div>
                        </div>
                        <ul class="feature-list">
                            <li><strong>Rewarding Top Tier Killers:</strong> Provides a significant boost to players with a high rank (small 'Top %' value) in kills ELO.</li>
                            <li><strong>Inverse & Dampened:</strong> Uses the inverse of the rank, heavily dampened by a fourth root to provide a powerful but controlled bonus for elite players.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="explanation-card">
                <div class="explanation-header">
                    <span class="exp-number">B</span>
                    <h3>Factor B: Game Impact & Resilience</h3>
                </div>
                <div class="explanation-content">
                    <p>This factor assesses a player's sustained contribution, longevity, and ability to absorb damage before falling in combat.</p>
                    
                    <div class="sub-section">
                        <h4>B.1. Average Damage Impact</h4>
                        <div class="key-point">
                            <div class="math-formula">
                                <span class="math-text">Avg Damage Impact</span>
                                <span class="math-equals">=</span>
                                <span class="fraction">
                                    <span class="numerator">damage_dealt</span>
                                    <span class="denominator">8250 ¬∑ total_games</span>
                                </span>
                            </div>
                        </div>
                        <ul class="feature-list">
                            <li><strong>Damage Consistency:</strong> Calculates a player's average damage contribution per game, rewarding consistent high damage dealers.</li>
                            <li><strong>Normalization Constant (8250):</strong> Rebalances weight within Factor B.</li>
                        </ul>
                    </div>

                    <div class="sub-section">
                        <h4>B.2. Games ELO Bonus</h4>
                        <div class="key-point">
                            <div class="math-formula">
                                <span class="math-text">Games ELO Bonus</span>
                                <span class="math-equals">=</span>
                                <span class="fraction">
                                    <span class="numerator"><span class="math-paren">(</span><span class="fraction-inline"><sup>1</sup>‚ÅÑ<sub>games_elo_rank</sub></span><span class="math-paren">)</span><sup>¬º</sup></span>
                                    <span class="denominator">13.2</span>
                                </span>
                            </div>
                        </div>
                        <ul class="feature-list">
                            <li><strong>Rewarding Experience & Longevity:</strong> Provides a significant boost to players with a high rank in Games ELO.</li>
                            <li><strong>Balanced Contribution:</strong> Uses a dampened inverse with scaling factor of 13.2 to balance impact.</li>
                        </ul>
                    </div>

                    <div class="sub-section">
                        <h4>B.3. Resilience</h4>
                        <div class="key-point">
                            <div class="math-formula compact">
                                <span class="math-text">self_destruct_%</span>
                                <span class="math-equals">=</span>
                                <span class="fraction">
                                    <span class="numerator">num_self_destructs</span>
                                    <span class="denominator">total_deaths</span>
                                </span>
                            </div>
                            <div class="math-formula" style="margin-top: 1rem;">
                                <span class="math-text">Resilience</span>
                                <span class="math-equals">=</span>
                                <span class="fraction">
                                    <span class="numerator">damage_received ¬∑ (1 ‚àí self_destruct_%)</span>
                                    <span class="denominator">660 ¬∑ total_deaths</span>
                                </span>
                            </div>
                        </div>
                        <ul class="feature-list">
                            <li><strong>Effective Survivability:</strong> Measures damage absorbed per legitimate death (excluding self-destructs).</li>
                            <li><strong>Normalization Constant (660):</strong> Adjusts weighting in Factor B structure.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="explanation-card">
                <div class="explanation-header">
                    <span class="exp-number">2</span>
                    <h3>Experience Bonus</h3>
                </div>
                <div class="explanation-content">
                    <div class="key-point">
                        <div class="math-formula">
                            <span class="math-text">Experience Bonus</span>
                            <span class="math-equals">=</span>
                            <span class="fraction">
                                <span class="numerator">(xp)<sup>¬º</sup></span>
                                <span class="denominator">62</span>
                            </span>
                        </div>
                    </div>
                    <ul class="feature-list">
                        <li><strong>Acknowledging Dedication:</strong> Provides a supplementary bonus for total experience points earned, dampened by a fourth root to ensure skill remains the primary driver of the score.</li>
                    </ul>
                </div>
            </div>

            <div class="explanation-card">
                <div class="explanation-header">
                    <span class="exp-number">3</span>
                    <h3>Final Score Scaling</h3>
                </div>
                <div class="explanation-content">
                    <div class="key-point">
                        <div class="math-formula">
                            <span class="math-text">Overall Score</span>
                            <span class="math-equals">=</span>
                            <span class="math-group">(Core Performance Score + Experience Bonus)</span>
                            <span class="math-operator">¬∑</span>
                            <span class="math-number">100</span>
                        </div>
                    </div>
                    <ul class="feature-list">
                        <li>The entire calculated score is multiplied by 100 to convert it from a small decimal (e.g., 1.25) into a more intuitive, larger number (e.g., 125.000).</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="example-section">
            <div class="example-card low-score">
                <div class="example-header">
                    <span class="example-icon">üìâ</span>
                    <div>
                        <h3>What does a low BPR look like?</h3>
                        <p>Example of a BPR of <strong>100</strong> ‚Äî a new player struggling with mechanics</p>
                    </div>
                </div>
                <div class="example-stats">
                    <div class="stat-item">
                        <span class="stat-label">Total Kills</span>
                        <span class="stat-value">10</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Damage Dealt</span>
                        <span class="stat-value">10,000</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Deaths</span>
                        <span class="stat-value">30</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Damage Received</span>
                        <span class="stat-value">14,000</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Kills ELO</span>
                        <span class="stat-value">Top 80%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Games ELO</span>
                        <span class="stat-value">Top 90%</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total Games</span>
                        <span class="stat-value">5</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Self Destructs</span>
                        <span class="stat-value">4</span>
                    </div>
                    <div class="stat-item">
                        <span class="stat-label">Total XP</span>
                        <span class="stat-value">32,270</span>
                    </div>
                </div>
                <p class="example-note">This profile exemplifies a player with a very low K/D ratio, poor combat efficiency, and low rank in both ELO categories.</p>
            </div>
        </section>

        <section class="notes-section">
            <div class="note-card leaders">
                <div class="note-icon">üë•</div>
                <h3>Note to Squad Leaders and Playtesters</h3>
                <p><strong>Broker Performance Rating (BPR)</strong> offers a useful snapshot of a player's skill, but it shouldn't be the sole factor when evaluating potential squad members. While BPR provides a general performance estimate, it doesn't capture elements like tactical awareness, teamwork, or adaptability.</p>
                <p>To get a more complete picture, leaders should examine additional statistics such as K/D ratio and ELO‚Äîthough it's important to note that <strong>ELO can be inflated through farming</strong>. A high ELO doesn't always equate to a good player.</p>
                <p>For the most accurate assessment, reviewing a player's full stat profile and conducting a <strong>playtest</strong> remains the best approach.</p>
            </div>

            <div class="note-card final">
                <div class="note-icon">üí°</div>
                <h3>Final Thoughts</h3>
                <p>The selection of specific numerical weights like 13.2 or 6.2 in the BPR formula is the result of a rigorous, evidence-based process designed to balance quantitative analysis and practical considerations. These weights are not arbitrary but are carefully calibrated to reflect the relative importance of each metric in driving overall broker performance.</p>
            </div>
        </section>

        <footer class="footer">
            <div class="footer-content">
                
            </div>
        </footer>
    </main>

    <script>
        function calculateScore() {
            const total_kills = parseInt(document.getElementById('total_kills').value.replace(/,/g, ''));
            const damage_dealt = parseFloat(document.getElementById('damage_dealt').value.replace(/,/g, ''));
            const total_deaths = parseInt(document.getElementById('total_deaths').value.replace(/,/g, ''));
            const damage_received = parseFloat(document.getElementById('damage_received').value.replace(/,/g, ''));
            const kills_top_placement_input = parseFloat(document.getElementById('kills_top_placement_input').value.replace(/,/g, ''));
            const games_top_placement_input = parseFloat(document.getElementById('games_top_placement_input').value.replace(/,/g, ''));
            const total_games = parseInt(document.getElementById('total_games').value.replace(/,/g, ''));
            const num_self_destructs = parseInt(document.getElementById('num_self_destructs').value.replace(/,/g, ''));
            const xp = parseFloat(document.getElementById('xp').value.replace(/,/g, ''));

            const resultDiv = document.getElementById('calculation_result');
            resultDiv.innerHTML = '';
            resultDiv.className = 'result-card';

            if (isNaN(total_kills) || isNaN(damage_dealt) || isNaN(total_deaths) ||
                isNaN(damage_received) || isNaN(kills_top_placement_input) || isNaN(games_top_placement_input) ||
                isNaN(total_games) || isNaN(num_self_destructs) || isNaN(xp)) {
                resultDiv.innerHTML = '<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>Please fill in all fields with valid numbers.</span></div>';
                resultDiv.classList.add('error');
                return;
            }

            if (total_deaths === 0) {
                resultDiv.innerHTML = '<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>Total Deaths cannot be zero.</span></div>';
                resultDiv.classList.add('error');
                return;
            }
            if (damage_received === 0) {
                resultDiv.innerHTML = '<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>Damage Received cannot be zero.</span></div>';
                resultDiv.classList.add('error');
                return;
            }
            if (kills_top_placement_input === 0 || games_top_placement_input === 0) {
                resultDiv.innerHTML = '<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>ELO Rank values cannot be zero.</span></div>';
                resultDiv.classList.add('error');
                return;
            }
            if (total_games === 0) {
                resultDiv.innerHTML = '<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>Total Games cannot be zero.</span></div>';
                resultDiv.classList.add('error');
                return;
            }
            if (!(kills_top_placement_input > 0 && kills_top_placement_input <= 100) || !(games_top_placement_input > 0 && games_top_placement_input <= 100)) {
                resultDiv.innerHTML = '<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>Top % placements must be between 0 (exclusive) and 100.</span></div>';
                resultDiv.classList.add('error');
                return;
            }
            if (num_self_destructs > total_deaths) {
                resultDiv.innerHTML = '<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>Self destructs cannot exceed total deaths.</span></div>';
                resultDiv.classList.add('error');
                return;
            }
            if (total_kills < 0 || damage_dealt < 0 || total_deaths < 0 || damage_received < 0 ||
                total_games < 0 || num_self_destructs < 0 || xp < 0) {
                resultDiv.innerHTML = '<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>All input values must be non-negative.</span></div>';
                resultDiv.classList.add('error');
                return;
            }

            const kills_elo_rank = kills_top_placement_input / 100.0;
            const games_elo_rank = games_top_placement_input / 100.0;

            try {
                const self_destruct_percentage = num_self_destructs / total_deaths;
                const combat_efficiency = (total_kills * damage_dealt) / (total_deaths * damage_received);
                const kills_elo_bonus = (Math.pow(1 / kills_elo_rank, 1 / 4)) / 6.2;
                const factor_a = Math.sqrt(combat_efficiency) + kills_elo_bonus;
                const avg_damage_impact = damage_dealt / (8250 * total_games);
                const games_elo_bonus = (Math.pow(1 / games_elo_rank, 1 / 4)) / 13.2;
                const resilience = (damage_received * (1 - self_destruct_percentage)) / (660 * total_deaths);
                const factor_b = avg_damage_impact + games_elo_bonus + resilience;
                const core_performance_score = Math.sqrt(factor_a * factor_b);
                const experience_bonus = (Math.pow(xp, 1 / 4)) / 62;
                const base_score = core_performance_score + experience_bonus;
                const overall_score = base_score * 100;

                resultDiv.innerHTML = `
                    <div class="result-success">
                        <div class="result-label">Broker Performance Rating</div>
                        <div class="result-score">${overall_score.toFixed(3)}</div>
                        <div class="result-breakdown">
                            <span>Core: ${(core_performance_score * 100).toFixed(2)}</span>
                            <span>‚Ä¢</span>
                            <span>XP Bonus: ${(experience_bonus * 100).toFixed(2)}</span>
                        </div>
                    </div>
                `;
                resultDiv.classList.add('success');

            } catch (e) {
                resultDiv.innerHTML = `<div class="result-error"><span class="error-icon">‚ö†Ô∏è</span><span>Calculation error: ${e.message}</span></div>`;
                resultDiv.classList.add('error');
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('calculate_button').addEventListener('click', calculateScore);
            calculateScore();
        });
    </script>
</body>
</html>