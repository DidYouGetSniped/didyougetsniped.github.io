<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Did You Get Sniped | Home</title>
  <meta name="description" content="Quick access to WB Info, Squads, and Squad Count. See recent updates." />
  <meta name="theme-color" content="#1e3a5f" />
  <meta property="og:title" content="Did You Get Sniped?'s War Brokers Tools">
  <meta property="og:description" content="Your comprehensive platform for Warbrokers statistics, squad management, and real-time player analytics.">

  <!-- Preconnects -->
  <link rel="preconnect" href="https://www.googletagmanager.com">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
  
  <link rel="stylesheet" href="homepage.css" />

  <!-- Modal Styles -->
  <style>
    /* The Modal (background) */
    .modal {
      display: none; /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 1000; /* Sit on top */
      left: 0;
      top: 0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgb(0,0,0); /* Fallback color */
      background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal Content/Box */
    .modal-content {
      background-color: #fefefe;
      margin: 15% auto; /* 15% from the top and centered */
      padding: 20px;
      border: 1px solid #888;
      width: 80%; /* Could be more or less, depending on screen size */
      max-width: 400px;
      text-align: center;
    }

    /* The Close Button */
    .close {
      color: #aaa;
      float: right;
      font-size: 28px;
      font-weight: bold;
    }

    .close:hover,
    .close:focus {
      color: black;
      text-decoration: none;
      cursor: pointer;
    }

    .flag-link {
      display: inline-block;
      margin: 10px;
    }

    .flag-link img {
      width: 100px;
      height: auto;
      border: 1px solid #ddd;
      border-radius: 4px;
    }
  </style>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XGNQRLJMGK"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XGNQRLJMGK');
  </script>
</head>

<body>
  <!-- Subtle Background -->
  <div class="bg-animation">
    <div class="bg-gradient"></div>
    <div class="bg-grid"></div>
  </div>

  <!-- Navigation Bar -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="/" class="nav-logo">
        <span class="logo-icon">‚öîÔ∏è</span>
        <span class="logo-text">DYGS's War Brokers Tools</span>
      </a>
      <div class="nav-links">
        <a href="https://discord.gg/NuST4n4sWt" class="nav-discord" target="_blank" rel="noopener noreferrer">
          <svg class="discord-icon" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
            <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
          </svg>
          <span>Join Discord</span>
        </a>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <header class="hero">
    <div class="hero-content">
      <h1 class="hero-title">
        Welcome to <span class="gradient-text">DYGS's War Brokers Tools</span>
      </h1>
      <p class="hero-subtitle">Your comprehensive platform for Warbrokers statistics, squad management, and real-time player analytics.</p>
      <div class="hero-stats">
        <div class="stat-item">
          <span class="stat-number">7+</span>
          <span class="stat-label">Tools</span>
        </div>
        <div class="stat-divider"></div>
        <div class="stat-item">
          <span class="stat-number">Live</span>
          <span class="stat-label">Data</span>
        </div>
        <div class="stat-divider"></div>
        <div class="stat-item">
          <span class="stat-number">Free</span>
          <span class="stat-label">Forever</span>
        </div>
      </div>
    </div>
  </header>

  <main class="main-content">
    <!-- Quick Access Cards -->
    <section class="section tools-section" aria-labelledby="tools-title">
      <div class="section-header">
        <h2 id="tools-title" class="section-title">
          <span class="title-icon">üõ†Ô∏è</span>
          Tools & Features
        </h2>
        <p class="section-desc">Professional tools designed for the Warbrokers community</p>
      </div>

      <div class="tools-grid">
        <article class="tool-card featured">
          <div class="card-icon">üìä</div>
          <div class="card-content">
            <h3>Player Stats</h3>
            <p>Comprehensive player statistics with detailed breakdowns and revolutionary BPR statistic</p>
          </div>
          <a href="/wbinfo.html" class="card-link">
            <span>Open Tool</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </article>

        <article class="tool-card featured">
          <div class="card-icon">üë•</div>
          <div class="card-content">
            <h3>Squads</h3>
            <p>Browse squads and look at their members</p>
          </div>
          <a href="/squads.html" class="card-link">
            <span>Open Tool</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </article>

        <article class="tool-card featured">
          <div class="card-icon">üó∫Ô∏è</div>
          <div class="card-content">
            <h3>Server Mapper</h3>
            <p>Browse active games with filters for region, map, player count, and more ‚Äî without hopping in-game</p>
          </div>
          <a href="/warbrokers_mapper.html" class="card-link">
            <span>Open Tool</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </article>

        <article class="tool-card">
          <div class="card-icon">üî¢</div>
          <div class="card-content">
            <h3>Squad Count</h3>
            <p>View current squad counts at a glance</p>
          </div>
          <a href="/squadcount.html" class="card-link">
            <span>Open</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </article>

        <article class="tool-card">
          <div class="card-icon">‚úâÔ∏è</div>
          <div class="card-content">
            <h3>Squad Inviter</h3>
            <p>Invite members to your squad easily</p>
          </div>
          <a href="/squadinviter.html" class="card-link">
            <span>Open</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </article>

        <article class="tool-card">
          <div class="card-icon">üìà</div>
          <div class="card-content">
            <h3>Player Tracker</h3>
            <p>See how many people are online right now and historically</p>
          </div>
          <a href="/player-tracker.html" class="card-link">
            <span>Open</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </article>

        <article class="tool-card">
          <div class="card-icon">‚≠ê</div>
          <div class="card-content">
            <h3>BPR Rating</h3>
            <p>Learn about my Broker Performance Rating statistic</p>
          </div>
          <a href="#" class="card-link" onclick="showBPRModal(); return false;">
            <span>Open</span>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </article>
      </div>
    </section>

    <!-- Adverts Carousel -->
    <section class="section advert-section" aria-labelledby="advert-title">
      <div class="section-header compact">
        <h2 id="advert-title" class="section-title">
          <span class="title-icon">üì¢</span>
          Community Spotlight
        </h2>
        <div class="carousel-controls">
          <button class="carousel-btn" id="advert-prev" aria-label="Previous" disabled>
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
          <button class="carousel-btn" id="advert-next" aria-label="Next">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
              <path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </button>
        </div>
      </div>

      <div class="advert-carousel" id="advert-list">
        <a href="https://youtu.be/ygKAKKEBbvU" target="_blank" rel="noopener noreferrer" class="advert-slide">
          <img src="/advert/image3.png" alt="Advertisement 3" loading="lazy" />
        </a>
        <a href="http://discord.com/users/1181276851092598875" target="_blank" rel="noopener noreferrer" class="advert-slide">
          <img src="/advert/image2.png" alt="Advertisement 2" loading="lazy" />
        </a>
        <a href="https://youtu.be/0j49IODwckA" target="_blank" rel="noopener noreferrer" class="advert-slide">
          <img src="/advert/image1.png" alt="Advertisement 1" loading="lazy" />
        </a>
      </div>
    </section>

    <!-- Updates Section -->
    <section class="section updates-section" aria-labelledby="updates-title">
      <div class="section-header compact">
        <h2 id="updates-title" class="section-title">
          <span class="title-icon">üîî</span>
          Latest Update
        </h2>
      </div>

      <div class="latest-update-container" id="updates-list" aria-live="polite">
        <div class="skeleton">
          <div class="skeleton-time"></div>
          <div class="skeleton-text"></div>
        </div>
      </div>

      <a href="updates.html" class="view-all-btn">
        <span>View All Updates</span>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
          <path d="M5 12h14M12 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </section>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-brand">
        <span>Created By: Did You Get Sniped?</span>
      </div>
      <p class="footer-text">Made with ‚ù§Ô∏è for the Warbrokers community</p>
      <a href="https://discord.gg/NuST4n4sWt" class="footer-discord" target="_blank" rel="noopener noreferrer">
        <svg class="discord-icon" viewBox="0 0 24 24" fill="currentColor">
          <path d="M20.317 4.37a19.791 19.791 0 0 0-4.885-1.515a.074.074 0 0 0-.079.037c-.21.375-.444.864-.608 1.25a18.27 18.27 0 0 0-5.487 0a12.64 12.64 0 0 0-.617-1.25a.077.077 0 0 0-.079-.037A19.736 19.736 0 0 0 3.677 4.37a.07.07 0 0 0-.032.027C.533 9.046-.32 13.58.099 18.057a.082.082 0 0 0 .031.057a19.9 19.9 0 0 0 5.993 3.03a.078.078 0 0 0 .084-.028a14.09 14.09 0 0 0 1.226-1.994a.076.076 0 0 0-.041-.106a13.107 13.107 0 0 1-1.872-.892a.077.077 0 0 1-.008-.128a10.2 10.2 0 0 0 .372-.292a.074.074 0 0 1 .077-.01c3.928 1.793 8.18 1.793 12.062 0a.074.074 0 0 1 .078.01c.12.098.246.198.373.292a.077.077 0 0 1-.006.127a12.299 12.299 0 0 1-1.873.892a.077.077 0 0 0-.041.107c.36.698.772 1.362 1.225 1.993a.076.076 0 0 0 .084.028a19.839 19.839 0 0 0 6.002-3.03a.077.077 0 0 0 .032-.054c.5-5.177-.838-9.674-3.549-13.66a.061.061 0 0 0-.031-.03zM8.02 15.33c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.956-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.956 2.418-2.157 2.418zm7.975 0c-1.183 0-2.157-1.085-2.157-2.419c0-1.333.955-2.419 2.157-2.419c1.21 0 2.176 1.096 2.157 2.42c0 1.333-.946 2.418-2.157 2.418z"/>
        </svg>
        Need Help? Join our Discord
      </a>
    </div>
  </footer>

  <!-- BPR Modal -->
<div id="bprModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeBPRModal()">&times;</span>
    <h2 style="color: black;">Select Language for BPR PDF</h2>
    <a class="flag-link" href="https://files.catbox.moe/oqwzj1.pdf" target="_blank" rel="noopener noreferrer">
      <img src="https://upload.wikimedia.org/wikipedia/en/a/a4/Flag_of_the_United_States.svg" alt="USA Flag">
      <br>English (USA)
    </a>
    <a class="flag-link" href="https://files.catbox.moe/jsfolg.pdf" target="_blank" rel="noopener noreferrer">
      <img src="https://upload.wikimedia.org/wikipedia/en/9/9e/Flag_of_Japan.svg" alt="Japan Flag">
      <br>Japanese (JP)
    </a>
  </div>
</div>

  <!-- Scripts -->
  <script>
    // Custom cursor
    document.addEventListener('DOMContentLoaded', function() {
      const style = document.createElement('style');
      style.innerHTML = "* { cursor: url('wb kill.png') 16 16, auto !important; }";
      document.head.appendChild(style);
    });

    // Updates loader
    (() => {
      const container = document.getElementById('updates-list');
      const src = new URL('updates.html', location.origin).href;

      async function loadLatestUpdate() {
        try {
          const res = await fetch(src, { cache: 'no-store' });
          if (!res.ok) throw new Error('HTTP ' + res.status);
          const html = await res.text();
          const doc = new DOMParser().parseFromString(html, 'text/html');

          const firstItem = doc.querySelector('.updates-list > li');
          if (!firstItem) throw new Error('No updates found');

          const card = firstItem.querySelector('.update-card');
          const dateEl = card?.querySelector('.update-time');
          const changesList = card?.querySelector('.changes-list');

          if (!dateEl || !changesList) throw new Error('Malformed update entry');

          const dateText = dateEl.textContent.trim();
          const changes = Array.from(changesList.querySelectorAll('li'));

          container.innerHTML = '';

          const cardDiv = document.createElement('div');
          cardDiv.className = 'update-card';

          const header = document.createElement('div');
          header.className = 'card-header';

          const time = document.createElement('time');
          time.className = 'update-time';
          time.setAttribute('datetime', dateEl.getAttribute('datetime') || '');
          time.textContent = dateText;

          const count = document.createElement('span');
          count.className = 'change-count';
          count.textContent = changes.length === 1 ? '1 change' : changes.length + ' changes';

          header.appendChild(time);
          header.appendChild(count);
          cardDiv.appendChild(header);

          const ul = document.createElement('ul');
          ul.className = 'changes-list';
          changes.forEach(li => ul.appendChild(li.cloneNode(true)));

          cardDiv.appendChild(ul);
          container.appendChild(cardDiv);

        } catch (e) {
          console.error('Failed to load updates:', e);
          container.innerHTML = '<div class="update-error">Could not load the latest update.</div>';
        }
      }

      loadLatestUpdate();
    })();

    // Advert carousel
    (() => {
      const scroller = document.getElementById('advert-list');
      const prevBtn = document.getElementById('advert-prev');
      const nextBtn = document.getElementById('advert-next');

      function updateNav() {
        if (!scroller) return;
        const max = scroller.scrollWidth - scroller.clientWidth - 5;
        prevBtn.disabled = scroller.scrollLeft <= 5;
        nextBtn.disabled = scroller.scrollLeft >= max;
      }

      function pageScroll(dir) {
        if (!scroller) return;
        const scrollAmount = scroller.clientWidth;
        let target = scroller.scrollLeft + (dir * scrollAmount);
        target = Math.max(0, Math.min(target, scroller.scrollWidth - scroller.clientWidth));
        scroller.scroll({ left: target, behavior: 'smooth' });
      }

      prevBtn?.addEventListener('click', () => pageScroll(-1));
      nextBtn?.addEventListener('click', () => pageScroll(1));

      let raf;
      scroller?.addEventListener('scroll', () => {
        cancelAnimationFrame(raf);
        raf = requestAnimationFrame(updateNav);
      });
      window.addEventListener('resize', updateNav);
      updateNav();
    })();

    // Animate elements on scroll
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('animate-in');
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.tool-card, .section').forEach(el => observer.observe(el));

    // Modal functions
    function showBPRModal() {
      document.getElementById('bprModal').style.display = 'block';
    }

    function closeBPRModal() {
      document.getElementById('bprModal').style.display = 'none';
    }

    // Close modal when clicking outside
    window.onclick = function(event) {
      const modal = document.getElementById('bprModal');
      if (event.target === modal) {
        modal.style.display = 'none';
      }
    }
  </script>
</body>
</html>